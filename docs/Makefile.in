MAKEINFO=@MAKEINFO@
TEXI2DVI=@TEXI2DVI@
CP=cp

all: gnatlib/index.html gnatlib.html gnatlib.pdf gnatlib.txt

gnatlib/index.html: gnatlib.texi gnatlib.css
	${MAKEINFO} --html --css-include=gnatlib.css --number-sections $<
	${CP} tip.png important.png note.png gnatlib/

gnatlib.html: gnatlib.texi gnatlib.css
	${MAKEINFO} --html --css-include=gnatlib.css --no-split --no-headers -o $@ $<

gnatlib.pdf: gnatlib.texi
	echo x | ${TEXI2DVI} -p $<

gnatlib.txt: gnatlib.texi
	${MAKEINFO} --force --no-headers --no-split -o $@ $<

.PHONY: clean-temp-files
clean-temp-files:
	-$(RM) *.aux
	-$(RM) *.cp
	-$(RM) *.cps
	-$(RM) *.fn
	-$(RM) *.ky
	-$(RM) *.log
	-$(RM) *.pg
	-$(RM) *.toc
	-$(RM) *.tp
	-$(RM) *.vr

.PHONY: clean
clean: clean-temp-files
	-${RM} gnatlib.pdf gnatlib.txt gnatlib.html
	-${RM} -rf gnatlib/


